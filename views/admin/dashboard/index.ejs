<%- include('../partials/header', { title: title, lng: lng, admin: admin, user: user }) %>
<%- include('../partials/sidebar', { admin: admin, user: user }) %>

<!-- Main Content -->
<main class="admin-main">
  <div class="admin-content">
    
    <!-- Platform Status Banner (Real Backend Data) -->
    <div class="platform-status animate-fade-in <%= typeof stats !== 'undefined' && stats.platformStatus && stats.platformStatus.healthy ? 'status-healthy' : 'status-warning' %>">
      <div class="status-content">
        <div class="status-icon">
          <i class="fas <%= typeof stats !== 'undefined' && stats.platformStatus && stats.platformStatus.healthy ? 'fa-check' : 'fa-exclamation-triangle' %>"></i>
        </div>
        <div>
          <div class="status-text">
            <%= typeof stats !== 'undefined' && stats.platformStatus && stats.platformStatus.healthy ? 
                (typeof t !== 'undefined' ? t('admin.dashboard.platform_working') : 'SilkInExpo platform is working') :
                'Platform experiencing issues' %>
          </div>
          <div class="status-subtext">
            <%= typeof stats !== 'undefined' && stats.platformStatus && stats.platformStatus.message ? 
                stats.platformStatus.message : 
                (typeof t !== 'undefined' ? t('admin.dashboard.all_services_operational') : 'All services are working fine') %>
          </div>
        </div>
      </div>
      
      <div class="status-metrics">
        <div class="status-metric">
          <div class="status-metric-value">
            <%= typeof stats !== 'undefined' && stats.systemHealth && stats.systemHealth.uptime ? 
                stats.systemHealth.uptime : '99.9%' %>
          </div>
          <div class="status-metric-label">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.uptime') : 'Uptime' %>
          </div>
        </div>
        <div class="status-metric">
          <div class="status-metric-value">
            <%= typeof stats !== 'undefined' && stats.systemHealth && stats.systemHealth.responseTime ? 
                stats.systemHealth.responseTime : '&lt; 50ms' %>
          </div>
          <div class="status-metric-label">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.response_time') : 'Response Time' %>
          </div>
        </div>
        <div class="status-metric">
          <div class="status-metric-value">
            <%= typeof stats !== 'undefined' && stats.systemHealth && stats.systemHealth.memory ? 
                stats.systemHealth.memory.percent + '%' : '78%' %>
          </div>
          <div class="status-metric-label">Memory</div>
        </div>
      </div>
    </div>
    
    <!-- Statistics Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-lg mb-lg">
      
      <!-- Total Users -->
      <div class="stat-card animate-fade-in" data-stat="totalUsers">
        <div class="stat-header">
          <h3 class="stat-title">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.total_users') : 'Total Users' %>
          </h3>
          <div class="stat-icon">
            <i class="fas fa-users"></i>
          </div>
        </div>
        <div class="stat-value">
          <%= typeof stats !== 'undefined' && stats.overview && stats.overview.totalUsers ? stats.overview.totalUsers.toLocaleString() : '0' %>
        </div>
        <div class="stat-change <%= typeof stats !== 'undefined' && stats.trends && stats.trends.usersChange && stats.trends.usersChange.isPositive ? 'positive' : (stats.trends && stats.trends.usersChange && stats.trends.usersChange.value !== 0 ? 'negative' : '') %>">
          <i class="fas fa-arrow-<%= typeof stats !== 'undefined' && stats.trends && stats.trends.usersChange && stats.trends.usersChange.isPositive ? 'up' : (stats.trends && stats.trends.usersChange && stats.trends.usersChange.value !== 0 ? 'down' : 'right') %> stat-change-icon"></i>
          <span><%= typeof stats !== 'undefined' && stats.trends && stats.trends.usersChange ? (stats.trends.usersChange.isPositive ? '+' : '') + stats.trends.usersChange.value + '%' : '0%' %> 
            <%= typeof t !== 'undefined' ? t('admin.dashboard.from_last_month') : 'from last month' %>
          </span>
        </div>
      </div>
      
      <!-- Active Users -->
      <div class="stat-card success animate-fade-in" data-stat="activeUsers">
        <div class="stat-header">
          <h3 class="stat-title">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.active_users') : 'Active Users' %>
          </h3>
          <div class="stat-icon success">
            <i class="fas fa-user-check"></i>
          </div>
        </div>
        <div class="stat-value">
          <%= typeof stats !== 'undefined' && stats.overview && stats.overview.activeUsers ? stats.overview.activeUsers.toLocaleString() : '0' %>
        </div>
        <div class="stat-change <%= typeof stats !== 'undefined' && stats.trends && stats.trends.activeUsersChange && stats.trends.activeUsersChange.isPositive ? 'positive' : (stats.trends && stats.trends.activeUsersChange && stats.trends.activeUsersChange.value !== 0 ? 'negative' : '') %>">
          <i class="fas fa-arrow-<%= typeof stats !== 'undefined' && stats.trends && stats.trends.activeUsersChange && stats.trends.activeUsersChange.isPositive ? 'up' : (stats.trends && stats.trends.activeUsersChange && stats.trends.activeUsersChange.value !== 0 ? 'down' : 'right') %> stat-change-icon"></i>
          <span><%= typeof stats !== 'undefined' && stats.trends && stats.trends.activeUsersChange ? (stats.trends.activeUsersChange.isPositive ? '+' : '') + stats.trends.activeUsersChange.value + '%' : '0%' %> 
            <%= typeof t !== 'undefined' ? t('admin.dashboard.from_last_month') : 'from last month' %>
          </span>
        </div>
      </div>
      
      <!-- Pending Approvals -->
      <div class="stat-card warning animate-fade-in" data-stat="pendingApprovals">
        <div class="stat-header">
          <h3 class="stat-title">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.pending_approvals') : 'Pending Approvals' %>
          </h3>
          <div class="stat-icon warning">
            <i class="fas fa-clock"></i>
          </div>
        </div>
        <div class="stat-value">
          <%= typeof stats !== 'undefined' && stats.overview && stats.overview.pendingApprovals ? stats.overview.pendingApprovals.toLocaleString() : '0' %>
        </div>
        <div class="stat-change">
          <span>
            <%= typeof t !== 'undefined' ? t('admin.dashboard.requires_attention') : 'Requires Attention' %>
          </span>
        </div>
      </div>
      
      <!-- USD Revenue -->
      <div class="stat-card success animate-fade-in" data-stat="revenue">
        <div class="stat-header">
          <h3 class="stat-title">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.usd_revenue') : 'USD Revenue' %>
          </h3>
          <div class="stat-icon success">
            <i class="fas fa-dollar-sign"></i>
          </div>
        </div>
        <div class="stat-value" id="totalRevenueValue">
          <% if (typeof stats !== 'undefined' && stats.overview && typeof stats.overview.totalRevenue === 'number') { %>
            $<%= stats.overview.totalRevenue.toLocaleString() %>
          <% } else { %>
            <div class="loading-placeholder">
              <div class="loading-spinner"></div>
              <span class="loading-text">Loading...</span>
            </div>
          <% } %>
        </div>
        <div class="stat-change <%= typeof stats !== 'undefined' && stats.trends && stats.trends.revenueChange && stats.trends.revenueChange.isPositive ? 'positive' : (stats.trends && stats.trends.revenueChange && stats.trends.revenueChange.value !== 0 ? 'negative' : '') %>">
          <i class="fas fa-arrow-<%= typeof stats !== 'undefined' && stats.trends && stats.trends.revenueChange && stats.trends.revenueChange.isPositive ? 'up' : (stats.trends && stats.trends.revenueChange && stats.trends.revenueChange.value !== 0 ? 'down' : 'right') %> stat-change-icon"></i>
          <span><%= typeof stats !== 'undefined' && stats.trends && stats.trends.revenueChange ? (stats.trends.revenueChange.isPositive ? '+' : '') + stats.trends.revenueChange.value + '%' : '0%' %> 
            <%= typeof t !== 'undefined' ? t('admin.dashboard.from_last_month') : 'from last month' %>
          </span>
        </div>
      </div>
      
    </div>
    
    <!-- Charts and Actions Row -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-lg mb-lg">
      
      <!-- Growth Analytics Chart -->
      <div class="col-span-2">
        <div class="chart-container animate-fade-in">
          <div class="chart-header">
            <h3 class="chart-title">
              <%= typeof t !== 'undefined' ? t('admin.dashboard.growth_analytics') : 'Growth Analytics' %>
            </h3>
            <div class="chart-actions">
              <select id="chartPeriodFilter" class="chart-period-select">
                <option value="30">30 <%= typeof t !== 'undefined' ? t('admin.dashboard.days') : 'days' %></option>
                <option value="90" selected>90 <%= typeof t !== 'undefined' ? t('admin.dashboard.days') : 'days' %></option>
                <option value="365">1 <%= typeof t !== 'undefined' ? t('admin.dashboard.year') : 'year' %></option>
              </select>
              <button id="refreshChart" class="chart-refresh-btn" title="Refresh Chart">
                <i class="fas fa-sync-alt"></i>
              </button>
            </div>
          </div>
          <div class="chart-body">
            <div id="growthChart" class="chart-placeholder">
              <div class="chart-loading">
                <div class="loading-spinner"></div>
                <span>Loading analytics...</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Quick Actions -->
      <div class="col-span-1">
        <div class="quick-actions animate-fade-in">
          <div class="quick-actions-header">
            <h3 class="quick-actions-title">
              <%= typeof t !== 'undefined' ? t('admin.dashboard.quick_actions') : 'Quick Actions' %>
            </h3>
          </div>
          <div class="quick-actions-grid">
            
            <a href="/admin/users/create" class="quick-action" data-action="add-user">
              <div class="quick-action-icon">
                <i class="fas fa-user-plus"></i>
              </div>
              <div class="quick-action-text">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.add_user') : 'Add User' %>
              </div>
            </a>
            
            <button class="quick-action" data-action="approve-pending">
              <div class="quick-action-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <div class="quick-action-text">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.approve_pending') : 'Approve Pending' %>
              </div>
            </button>
            
            <button class="quick-action" data-action="export-data">
              <div class="quick-action-icon">
                <i class="fas fa-download"></i>
              </div>
              <div class="quick-action-text">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.export_data') : 'Export Data' %>
              </div>
            </button>
            
            <a href="/admin/settings" class="quick-action" data-action="settings">
              <div class="quick-action-icon">
                <i class="fas fa-cog"></i>
              </div>
              <div class="quick-action-text">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.settings') : 'Settings' %>
              </div>
            </a>
            
          </div>
        </div>
      </div>
      
    </div>
    
    <!-- Status and Activity Row -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-lg mb-lg">
      
      <!-- System Status -->
      <div class="status-container animate-fade-in">
        <div class="status-header">
          <h3 class="status-title">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.system_status') : 'System Status' %>
          </h3>
        </div>
        <div class="status-grid">
          
          <!-- Database Status -->
          <div class="status-item">
            <div class="status-item-icon success">
              <i class="fas fa-database"></i>
            </div>
            <div class="status-item-content">
              <div class="status-item-label">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.database') : 'Database' %>
              </div>
              <div class="status-item-value success">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.operational') : 'Operational' %>
              </div>
            </div>
          </div>
          
          <!-- Server Status -->
          <div class="status-item">
            <div class="status-item-icon success">
              <i class="fas fa-server"></i>
            </div>
            <div class="status-item-content">
              <div class="status-item-label">Server</div>
              <div class="status-item-value success">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.operational') : 'Operational' %>
              </div>
            </div>
          </div>
          
          <!-- Memory Usage -->
          <div class="status-item">
            <div class="status-item-icon warning">
              <i class="fas fa-memory"></i>
            </div>
            <div class="status-item-content">
              <div class="status-item-label">
                <%= typeof t !== 'undefined' ? t('admin.dashboard.memory') : 'Memory' %>
              </div>
              <div class="status-item-value warning">
                78% <%= typeof t !== 'undefined' ? t('admin.dashboard.used') : 'Used' %>
              </div>
            </div>
          </div>
          
          <!-- Storage -->
          <div class="status-item">
            <div class="status-item-icon">
              <i class="fas fa-hdd"></i>
            </div>
            <div class="status-item-content">
              <div class="status-item-label">Storage</div>
              <div class="status-item-value">
                45% <%= typeof t !== 'undefined' ? t('admin.dashboard.used') : 'Used' %>
              </div>
            </div>
          </div>
          
        </div>
        
        
        <!-- System Health Metrics -->
        <div class="system-health-metrics">
          <div class="health-metric">
            <span class="health-label">Uptime:</span>
            <span class="health-value">
              <%= typeof stats !== 'undefined' && stats.systemHealth && stats.systemHealth.uptime ? stats.systemHealth.uptime : '99.9%' %>
            </span>
          </div>
          <div class="health-metric">
            <span class="health-label">Response Time:</span>
            <span class="health-value">
              <%= typeof stats !== 'undefined' && stats.systemHealth && stats.systemHealth.responseTime ? stats.systemHealth.responseTime : '<50ms' %>
            </span>
          </div>
          <div class="health-metric">
            <span class="health-label">Total Active Users:</span>
            <span class="health-value">
              <%= typeof stats !== 'undefined' && stats.overview && stats.overview.activeUsers ? stats.overview.activeUsers.toLocaleString() : '0' %>
            </span>
          </div>
        </div>
        
      </div>
      
      <!-- Recent Activity -->
      <div class="activity-container animate-fade-in">
        <div class="activity-header">
          <h3 class="activity-title">
            <%= typeof t !== 'undefined' ? t('admin.dashboard.recent_activity') : 'Recent Activity' %>
          </h3>
          <div class="activity-actions">
            <button class="btn-filter">
              <%= typeof t !== 'undefined' ? t('admin.dashboard.filter') : 'Filter' %>
            </button>
            <a href="/admin/activity" class="btn-view-all">
              <%= typeof t !== 'undefined' ? t('admin.dashboard.view_all') : 'View All' %>
            </a>
          </div>
        </div>
        <div class="activity-list">
          
          <% if (typeof stats !== 'undefined' && stats.recentActivity && stats.recentActivity.length > 0) { %>
            <% stats.recentActivity.slice(0, 4).forEach((activity) => { %>
              <div class="activity-item">
                <div class="activity-avatar">
                  <%= activity.companyName ? activity.companyName.charAt(0).toUpperCase() : 'U' %>
                </div>
                <div class="activity-content">
                  <div class="activity-text">
                    <strong><%= activity.companyName || 'New User' %></strong> 
                    <% if (activity.status === 'active') { %>
                      <%= typeof t !== 'undefined' ? t('admin.dashboard.new_user_registered') : 'registered and approved' %>
                    <% } else if (activity.status === 'blocked') { %>
                      <%= typeof t !== 'undefined' ? t('admin.dashboard.new_user_registered') : 'registered (pending approval)' %>
                    <% } else { %>
                      <%= typeof t !== 'undefined' ? t('admin.dashboard.new_user_registered') : 'registered' %>
                    <% } %>
                  </div>
                  <div class="activity-meta">
                    <span class="activity-badge <%= activity.status === 'active' ? 'badge-success' : activity.status === 'blocked' ? 'badge-warning' : 'badge-primary' %>">
                      <%= activity.country || 'USER' %>
                    </span>
                    <span data-timestamp="<%= activity.createdAt %>">
                      <%= new Date(activity.createdAt).toLocaleDateString() %>
                    </span>
                  </div>
                </div>
              </div>
            <% }); %>
          <% } else { %>
            <!-- Default Activity when no data -->
            <div class="activity-item">
              <div class="activity-avatar">A</div>
              <div class="activity-content">
                <div class="activity-text">
                  <strong>Admin User</strong> 
                  <%= typeof t !== 'undefined' ? t('admin.dashboard.dashboard_access') : 'accessed dashboard' %>
                </div>
                <div class="activity-meta">
                  <span class="activity-badge badge-success">
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.system') : 'SYSTEM' %>
                  </span>
                  <span data-timestamp="<%= new Date().toISOString() %>">
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.just_now') : 'Just now' %>
                  </span>
                </div>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-avatar">U</div>
              <div class="activity-content">
                <div class="activity-text">
                  <strong>New User</strong> 
                  <%= typeof t !== 'undefined' ? t('admin.dashboard.new_user_registered') : 'registered for marketplace' %>
                </div>
                <div class="activity-meta">
                  <span class="activity-badge badge-primary">
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.user') : 'USER' %>
                  </span>
                  <span>
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.5_min_ago') : '5 min ago' %>
                  </span>
                </div>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-avatar">C</div>
              <div class="activity-content">
                <div class="activity-text">
                  <strong>Company XYZ</strong> 
                  <%= typeof t !== 'undefined' ? t('admin.dashboard.company_application_approved') : 'application approved' %>
                </div>
                <div class="activity-meta">
                  <span class="activity-badge badge-success">
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.approval') : 'APPROVAL' %>
                  </span>
                  <span>
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.15_min_ago') : '15 min ago' %>
                  </span>
                </div>
              </div>
            </div>
            
            <div class="activity-item">
              <div class="activity-avatar">S</div>
              <div class="activity-content">
                <div class="activity-text">
                  <strong>System</strong> 
                  <%= typeof t !== 'undefined' ? t('admin.dashboard.automatic_backup_completed') : 'backup completed successfully' %>
                </div>
                <div class="activity-meta">
                  <span class="activity-badge badge-success">
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.system') : 'SYSTEM' %>
                  </span>
                  <span>
                    <%= typeof t !== 'undefined' ? t('admin.dashboard.1_hour_ago') : '1 hour ago' %>
                  </span>
                </div>
              </div>
            </div>
          <% } %>
          
        </div>
      </div>
      
    </div>
    
    <!-- Pending Approvals Table -->
    <% if (typeof stats !== 'undefined' && stats.pendingApprovalsList && stats.pendingApprovalsList.length > 0) { %>
      <div class="pending-approvals-section animate-fade-in">
        <div class="pending-approvals-header">
          <h3 class="pending-approvals-title">
            <i class="fas fa-clock"></i>
            Pending Approvals (<%= stats.pendingApprovalsList.length %>)
          </h3>
          <div class="pending-actions-toolbar">
            <button class="btn-bulk-approve" data-action="bulk-approve">
              <i class="fas fa-check-double"></i>
              Bulk Approve
            </button>
            <button class="btn-bulk-reject" data-action="bulk-reject">
              <i class="fas fa-times-circle"></i>
              Bulk Reject
            </button>
            <a href="/admin/users?status=pending" class="btn-view-all">
              <i class="fas fa-list"></i>
              View All
            </a>
          </div>
        </div>
        
        <div class="pending-approvals-table-container">
          <table class="pending-approvals-table">
            <thead>
              <tr>
                <th class="checkbox-col">
                  <input type="checkbox" id="selectAll" onchange="toggleSelectAll(this)">
                </th>
                <th class="company-col">Company</th>
                <th class="email-col">Email</th>
                <th class="country-col">Country</th>
                <th class="days-col">Days Pending</th>
                <th class="status-col">Status</th>
                <th class="actions-col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% stats.pendingApprovalsList.forEach((user, index) => { %>
                <tr class="pending-row" data-user-id="<%= user._id || user.id %>">
                  <td class="checkbox-col">
                    <input type="checkbox" class="user-checkbox" value="<%= user._id || user.id %>">
                  </td>
                  <td class="company-col">
                    <div class="company-info">
                      <div class="company-avatar">
                        <%= user.companyName ? user.companyName.charAt(0).toUpperCase() : 'U' %>
                      </div>
                      <div class="company-details">
                        <div class="company-name"><%= user.companyName %></div>
                        <div class="company-type"><%= user.businessType || 'Business' %></div>
                      </div>
                    </div>
                  </td>
                  <td class="email-col">
                    <span class="email-text"><%= user.email %></span>
                  </td>
                  <td class="country-col">
                    <span class="country-badge"><%= user.country || 'N/A' %></span>
                  </td>
                  <td class="days-col">
                    <span class="days-badge <%= user.daysPending > 7 ? 'urgent' : user.daysPending > 3 ? 'warning' : 'normal' %>">
                      <%= user.daysPending %> days
                    </span>
                  </td>
                  <td class="status-col">
                    <span class="status-badge pending">
                      <i class="fas fa-clock"></i>
                      Pending
                    </span>
                  </td>
                  <td class="actions-col">
                    <div class="action-buttons">
                      <button class="btn-action btn-view" data-action="view" data-user-id="<%= user._id || user.id %>" 
                              title="View Details">
                        <i class="fas fa-eye"></i>
                      </button>
                      <button class="btn-action btn-approve" data-action="approve" data-user-id="<%= user._id || user.id %>" 
                              title="Approve">
                        <i class="fas fa-check"></i>
                      </button>
                      <button class="btn-action btn-reject" data-action="reject" data-user-id="<%= user._id || user.id %>" 
                              title="Reject">
                        <i class="fas fa-times"></i>
                      </button>
                      <button class="btn-action btn-delete" data-action="delete" data-user-id="<%= user._id || user.id %>" 
                              title="Delete">
                        <i class="fas fa-trash"></i>
                      </button>
                    </div>
                  </td>
                </tr>
              <% }); %>
            </tbody>
          </table>
        </div>
      </div>
    <% } %>

  </div>
</main>

<!-- Loading Overlay -->
<div id="loadingOverlay" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-modal">
  <div class="bg-card p-6 rounded-lg shadow-xl flex items-center gap-4">
    <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
    <span class="text-card-foreground">
      <%= typeof t !== 'undefined' ? t('admin.dashboard.loading') : 'Loading...' %>
    </span>
  </div>
</div>

<!-- JavaScript Libraries (Using Local Assets) -->
<script src="/assets/js/jquery-3.7.1.min.js"></script>
<script src="/assets/js/boostrap.bundle.min.js"></script>
<script src="/assets/js/apexchart.js"></script>

<!-- Dashboard Real Data Integration -->
<script id="dashboard-data" type="application/json">
<%- JSON.stringify({
  stats: stats || {},
  admin: admin || {},
  currentLanguage: typeof lng !== "undefined" ? lng : "uz",
  timestamp: new Date().toISOString()
}) %>
</script>

<script>
// Parse dashboard data safely
try {
  const dataElement = document.getElementById('dashboard-data');
  window.dashboardData = JSON.parse(dataElement.textContent);
  window.dashboardChartData = null;
} catch (error) {
  console.error('Dashboard data loading error:', error);
  window.dashboardData = {
    stats: {},
    admin: {},
    currentLanguage: 'uz',
    timestamp: new Date().toISOString()
  };
  window.dashboardChartData = null;
}
</script>

<!-- Custom Scripts -->
<script src="/admin/js/dashboard.js"></script>

<!-- Dashboard Initialization - Professional Level -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  // Dashboard initialization is handled by dashboard.js
  // No duplicate intervals or object references
  console.log('âœ… Dashboard template loaded - initialization delegated to dashboard.js');
});
</script>

</body>
</html> 